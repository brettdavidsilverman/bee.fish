<!DOCTYPE html>
<html lang="en">
   <head>
      <script src="/head.js"></script>
      <meta charset="utf-8"/>
      <meta name="viewport" content="width=device-width, initial-scale=1, user-scale=1"/>
      <script src="../console/console.js"></script>
      <script src="stream.js"></script>
      <script src="../power-encoding/power-encoding.js"></script>
      <link rel="stylesheet" type="text/css" href="/style.css" />
      <link rel="stylesheet" type="text/css" href="../style.css" />

      <title>Stream</title>
   </head>
   <body>
      <script src="/body.js"></script>
      <h1>Stream</h1>
      <a href="stream.js">stream.js</a>
      <br/>
      <a href="../power-encoding/power-encoding.js">power-encoding.js</a>
      
      <h2>Encode</h2>
      <p>
         Here we use PowerEncoding that inherits from Stream, to encode and decode a set of numbers.
      </p>
      <pre>
         <script>
var console = new Console();

var stream = new PowerEncoding();

for (var number = 0; number <= 100; number++)
{
   number.encode(stream);
}

CHECK("Zero count", stream.count == 0);
   
var string = stream.toString();

document.writeln(string);

        </script>
      </pre>
      
      <h2>Decode</h2>
      <pre>
         <script>
var stream = new PowerEncoding(string);

while (stream.peek() == "1")
{
   var number = Number.decode(stream);
   document.write(number);
   document.write(" ");
}

document.writeln();

CHECK("Zero count", stream.count == 0);
         </script>
      </pre>
   </body>
</html>
